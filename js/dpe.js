function dpe(CONSOMMATION,EMISSION){var _CONSO=0;var _EMISS=0;switch(typeof(CONSOMMATION)){case'string':_CONSO=String(CONSOMMATION).toUpperCase();break;case'number':_CONSO=parseFloat(CONSOMMATION);break;}switch(typeof(EMISSION)){case'string':_EMISS=String(EMISSION).toUpperCase();break;case'number':_EMISS=parseFloat(EMISSION);break;}var _DIVDPE='#dpe';if(arguments[2])_DIVDPE=arguments[2];function init(){var rankConso=getConsoRank();var rankEmission=getEmissionRank();var html=drawHtml();$(_DIVDPE).html(html);var hauteur_ligne=$('.dpe_tableau').children('div').innerHeight()+parseInt($('.dpe_fleche_1').css('marginBottom'));var position_consommation=hauteur_ligne*rankConso;var position_emission=hauteur_ligne*rankEmission;$('#curseur_consommation').css('top',position_consommation+'px');$('#curseur_emission').css('top',position_emission+'px');$('#curseur_consommation').addClass('dpe_consommation_'+(rankConso+1));$('#curseur_emission').addClass('dpe_emission_'+(rankEmission+1));$('.dpe_tableau').animate({width:'66%'},{queue:true,duration:1000});$('.dpe_valeur').animate({width:'30%'},{queue:true,duration:1000});$('.dpe_titre').show(1000);$('.dpe_tableau').show(1000);$('.dpe_valeur').show(1000);}$(window).load(function(){init();});function getConsoRank(){var ret=0;if(_CONSO<=50||_CONSO=='A')ret=0;if(_CONSO>50||_CONSO=='B')ret=1;if(_CONSO>90||_CONSO=='C')ret=2;if(_CONSO>150||_CONSO=='D')ret=3;if(_CONSO>230||_CONSO=='E')ret=4;if(_CONSO>330||_CONSO=='F')ret=5;if(_CONSO>450||_CONSO=='G')ret=6;return ret;}function getEmissionRank(){var ret=0;if(_EMISS<=5||_EMISS=='A')ret=0;if(_EMISS>5||_EMISS=='B')ret=1;if(_EMISS>10||_EMISS=='C')ret=2;if(_EMISS>20||_EMISS=='D')ret=3;if(_EMISS>35||_EMISS=='E')ret=4;if(_EMISS>55||_EMISS=='F')ret=5;if(_EMISS>80||_EMISS=='G')ret=6;return ret;}function drawHtml(){var _html="";if(_CONSO>0||typeof(_CONSO)=='string'){_html+='<div id="dpe_consommation"><div class="dpe_titre"><div style="float:left;">Logement&nbsp;&eacute;conome</div><div style="float:right;">Logement</div><div style="clear:both;"></div></div><div style="clear:both;"></div><div style="position:relative;"><div class="dpe_tableau"><div class="dpe_fleche_1 dpe_consommation_1"><span class="info"><51</span><span>A</span></div><div class="dpe_fleche_2 dpe_consommation_2"><span class="info">51 &agrave; 90</span><span>B</span></div><div class="dpe_fleche_3 dpe_consommation_3"><span class="info">91 &agrave; 150</span><span>C</span></div><div class="dpe_fleche_4 dpe_consommation_4"><span class="info">151 &agrave; 230</span><span>D</span></div><div class="dpe_fleche_5 dpe_consommation_5"><span class="info">231 &agrave; 330</span><span>E</span></div><div class="dpe_fleche_6 dpe_consommation_6"><span class="info">331 &agrave; 450</span><span>F</span></div><div class="dpe_fleche_7 dpe_consommation_7"><span class="info">>450</span><span>G</span></div></div><div class="dpe_valeur"id="curseur_consommation"><div><span>'+_CONSO+'</span><br/><span>kWh/m2.an</span></div></div></div><div style="clear:both;"></div><div style="clear:both;"></div><div class="dpe_titre"><div style="float:left;">Logement&nbsp;&eacute;nergivore</div><div style="float:right;">&nbsp;</div><div style="clear:both;"></div></div></div>';}if(_EMISS>0||typeof(_EMISS)=='string'){_html+='<div id="dpe_emission"><div class="dpe_titre"><div style="float:left;">Faible&nbsp;&eacute;mission&nbsp;des&nbsp;GES</div><div style="float:right;">Logement</div><div style="clear:both;"></div></div><div style="clear:both;"></div><div style="position:relative;"><div class="dpe_tableau"><div class="dpe_fleche_1 dpe_emission_1"><span class="info"><6</span><span>A</span></div><div class="dpe_fleche_2 dpe_emission_2"><span class="info">6 &agrave; 10</span><span>B</span></div><div class="dpe_fleche_3 dpe_emission_3"><span class="info">11 &agrave; 20</span><span>C</span></div><div class="dpe_fleche_4 dpe_emission_4"><span class="info">21 &agrave; 35</span><span>D</span></div><div class="dpe_fleche_5 dpe_emission_5"><span class="info">36 &agrave; 55</span><span>E</span></div><div class="dpe_fleche_6 dpe_emission_6"><span class="info">56 &agrave; 80</span><span>F</span></div><div class="dpe_fleche_7 dpe_emission_7"><span class="info">>80</span><span>G</span></div></div><div class="dpe_valeur"id="curseur_emission"><div><span>'+_EMISS+'</span><br/><span>Kg&nbsp;eq&nbsp;cO2/m2.an</span></div></div></div><div style="clear:both;"></div><div style="clear:both;"></div><div class="dpe_titre"><div style="float:left;">Forte&nbsp;&eacute;mission&nbsp;des&nbsp;GES</div><div style="float:right;">&nbsp;</div><div style="clear:both;"></div></div></div>';}return'<div id="dpe_conteneur">'+_html+'<div style="clear:both;"></div></div>';}}